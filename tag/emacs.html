<html lang="en">
<head>
    <meta charset="utf-8">
    <title>borborygmi</title>
    <meta name="description" content="">
    <meta name="author" content="Noah Hoffman">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
    <script src="https://nhoffman.github.io/borborygmi/theme/html5.js"></script>
    <![endif]-->

    <!-- Le styles -->
    <link href="https://nhoffman.github.io/borborygmi/theme/bootstrap.min.css" rel="stylesheet">
    <link href="https://nhoffman.github.io/borborygmi/theme/bootstrap.min.responsive.css" rel="stylesheet">
    <link href="https://nhoffman.github.io/borborygmi/theme/local.css" rel="stylesheet">
    <link href="https://nhoffman.github.io/borborygmi/theme/pygments.css" rel="stylesheet">

</head>

<body>

<div class="navbar">
    <div class="navbar-inner">
    <div class="container">

         <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
             <span class="icon-bar"></span>
             <span class="icon-bar"></span>
             <span class="icon-bar"></span>
         </a>

        <a class="brand" href="https://nhoffman.github.io/borborygmi">borborygmi</a>

        <div class="nav-collapse">
        <ul class="nav">

        </ul>
        </div>

    </div>
    </div>
</div>

<div class="container">
    <div class="content">
    <div class="row">

        <div class="span9">

  <!-- Don't include TOC on the index page -->
  <style>div#table-of-contents {display: none;}</style>



	<div class="article">
          <div class="content-title">
            <a href="https://nhoffman.github.io/borborygmi/remap-keys-for-emacs.html"><h1>Remap keys for emacs on a remote Windows machine</h1></a>
Sun 02 April 2023 &#8212;


<em>Filed under <a href="https://nhoffman.github.io/borborygmi/category/notes.html">notes</a>;
    tags: <a href="https://nhoffman.github.io/borborygmi/tag/emacs.html">emacs,&#160;</a><a href="https://nhoffman.github.io/borborygmi/tag/windows.html">windows</a></em>          </div>

          <div><p>
I have been working on a Windows machine via remote desktop, and am
gradually making it bearable. Emacs is miraculously easy to install to
my user's account, but it was not immediately obvious how to reproduce
my usual configuration of mapping Option to ESC. One solution is
provided by <a href="https://karabiner-elements.pqrs.org">Karabiner-Elements</a>, which supports complex rules for
keyboard remapping. Crucially, it's possible to remap keys only in the
context of a specific application. There are many community-provided
rules to use as a starting point: I adapted <a href="https://ke-complex-modifications.pqrs.org/json/virtual_machine.json">this one</a> to simply remap
left option to ESC. I created
<code>~/.config/karabiner/assets/complex_modifications/rdp_option_to_esc.json</code>
with the following contents:
</p>

<div class="org-src-container">
<pre class="src src-json">{
  "title": "Remote Desktop - Left Option sends ESC",
  "rules": [
    {
      "description": "Left option key sends ESC in remote desktop only",
      "manipulators": [
	{
	  "type": "basic",
	  "from": {
	    "key_code": "left_option",
	    "modifiers": {
	      "optional": [
		"any"
	      ]
	    }
	  },
	  "to": [
	    {
	      "key_code": "escape"
	    }
	  ],
	  "conditions": [
	    {
	      "type": "frontmost_application_if",
	      "bundle_identifiers": [
		"^com\\.microsoft\\.rdc$",
		"^com\\.microsoft\\.rdc\\.",
		"^net\\.sf\\.cord$",
		"^com\\.thinomenon\\.RemoteDesktopConnection$",
		"^com\\.itap-mobile\\.qmote$",
		"^com\\.nulana\\.remotixmac$",
		"^com\\.p5sys\\.jump\\.mac\\.viewer$",
		"^com\\.p5sys\\.jump\\.mac\\.viewer\\.",
		"^com\\.teamviewer\\.TeamViewer$",
		"^com\\.vmware\\.horizon$",
		"^com\\.2X\\.Client\\.Mac$",
		"^com\\.OpenText\\.Exceed-TurboX-Client$",
		"^com\\.realvnc\\.vncviewer$",
		"^com\\.vmware\\.fusion$",
		"^com\\.vmware\\.horizon$",
		"^com\\.vmware\\.view$",
		"^com\\.parallels\\.desktop$",
		"^com\\.parallels\\.vm$",
		"^com\\.parallels\\.desktop\\.console$",
		"^org\\.virtualbox\\.app\\.VirtualBoxVM$",
		"^com\\.citrix\\.XenAppViewer$",
		"^com\\.vmware\\.proxyApp\\.",
		"^com\\.parallels\\.winapp\\.",
		"^com\\.geekspiff\\.chickenofthevnc$",
		"^net\\.sourceforge\\.chicken$",
		"^de\\.jinx\\.JollysFastVNC\\.",
		"^com\\.realvnc\\.vncviewer\\."
	      ]
	    }
	  ]
	}
      ]
    }
  ]
}
</pre>
</div>

<p>
After adding the file, open the Karabiner-Elements settings from menu
bar icon, choose "Complex Modification", and enable "Remote Desktop -
Left Option sends ESC".
</p>
</div>
          <hr>


	</div>

<div class="pagination">
<ul>
    <li class="prev disabled"><a href="#">&#8592; Previous</a></li>

    <li class="active"><a href="https://nhoffman.github.io/borborygmi/tag/emacs.html">1</a></li>

    <li class="next disabled"><a href="#">&#8594; Next</a></li>

</ul>
</div>
 
  
        </div>

        <div class="span3">

            <div class="well" style="padding: 8px 0; background-color: #FBFBFB;">
            <ul class="nav nav-list">
                <li class="nav-header">
                Site
                </li>

                <li><a href="https://nhoffman.github.io/borborygmi/">Archives</a>
                </li><li><a href="https://nhoffman.github.io/borborygmi/tags.html">Tags</a>
                </li><li><a href="https://nhoffman.github.io/borborygmi/" rel="alternate">Atom feed</a></li>
            </ul>
            </div>


            <div class="well" style="padding: 8px 0; background-color: #FBFBFB;">
            <ul class="nav nav-list">
                <li class="nav-header">
                Categories
                </li>

                <li><a href="https://nhoffman.github.io/borborygmi/category/lectures.html">lectures</a></li>
                <li><a href="https://nhoffman.github.io/borborygmi/category/notes.html">notes</a></li>
                <li><a href="https://nhoffman.github.io/borborygmi/category/org-mode.html">org-mode</a></li>
                <li><a href="https://nhoffman.github.io/borborygmi/category/projects.html">projects</a></li>
                <li><a href="https://nhoffman.github.io/borborygmi/category/python.html">python</a></li>
                <li><a href="https://nhoffman.github.io/borborygmi/category/sql.html">sql</a></li>
            </ul>
            </div>


            <div class="well" style="padding: 8px 0; background-color: #FBFBFB;">
            <ul class="nav nav-list">
                <li class="nav-header">
                Links
                </li>

                <li><a href="https://github.com/nhoffman">GitHub account</a></li>
                <li><a href="https://github.com/nhoffman/borborygmi">site source</a></li>
            </ul>
            </div>



        </div>     </div>     </div> 
<footer>
<br>
<p><a href="https://nhoffman.github.io/borborygmi">borborygmi</a> &#169; Noah Hoffman 2025</p>
</footer>

</div> <!-- /container -->


<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-16886766-2', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>